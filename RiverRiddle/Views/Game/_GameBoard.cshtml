@model RiverRiddle.Models.GameState
@using RiverRiddle.Models;
<div class="river-bg">
    @{
        Character[] characters = new Character[] { Model.Farmer, Model.Fox, Model.Chicken, Model.Corn };
    }
    <!-- Boat -->
    <div class="boat @(Model.boatSide.ToString().ToLower())">
        <img src="~/Images/boat.png" class="boat" alt="boat" />

        <div class="boat-passengers">
            @* Boat Passengers *@
            @foreach (var passenger in Model.boatPassengers)
            {
                <img src="~/Images/@(passenger.GetType().Name.ToLower()).png"
                     class="character on-boat"
                     data-name="@passenger.GetType().Name"
                     onclick="togglePassenger('@passenger.GetType().Name')" />
            }
        </div>
    </div>


    <button class="boat-btn" onclick="moveBoat()" *@ @(Model.boatPassengers.Any(p => p.GetType().Name == "Farmer") ? "" : "disabled")>Move Boat</button>
    <button class="reset-btn" onclick="resetGame()">Reset Game</button>

    <!-- West Bank -->
    <div class="bank-west">
        <div class="characters-row">
            @foreach (var c in characters)
            {
                if (c.riverSide == RiverSide.West && !Model.boatPassengers.Any(p => p.GetType() == c.GetType()))
                {
                    <img src="~/Images/@(c.GetType().Name.ToLower()).png"
                         class="character"
                         @*data-name="@c.GetType().Name"*@
                         onclick="togglePassenger('@c.GetType().Name')" />
                }
            }
        </div>
    </div>

    <!-- East Bank -->
    <div class="bank-east">
        <div class="characters-row">
            @foreach (var c in characters)
            {
                if (c.riverSide == RiverSide.East && !Model.boatPassengers.Any(p => p.GetType() == c.GetType()))
                {
                    <img src="~/Images/@(c.GetType().Name.ToLower()).png"
                         class="character"
                         @*data-name="@c.GetType().Name"*@
                         onclick="togglePassenger('@c.GetType().Name')" />
                }
            }
        </div>
    </div>

    <div id="status-data"
         data-message="@Model.Status"
         data-state="@Model.MoveState.ToString()"
         style="display:none;">
    </div>
</div>
